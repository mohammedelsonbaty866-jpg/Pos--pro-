<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø§Ù„Ø£ØµÙ†Ø§Ù</title>

  <link rel="stylesheet" href="../css/menu.css">

  <style>
    .page { padding:20px; }

    .card {
      background:#fff;
      padding:15px;
      border-radius:12px;
      margin-bottom:15px;
    }

    .row {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
      gap:10px;
    }

    input {
      padding:10px;
      border-radius:8px;
      border:1px solid #ccc;
      width:100%;
    }

    button {
      padding:10px;
      border:none;
      border-radius:8px;
      background:#2f6df6;
      color:#fff;
      cursor:pointer;
    }

    table {
      width:100%;
      border-collapse:collapse;
    }

    th,td {
      padding:10px;
      border-bottom:1px solid #ddd;
      text-align:center;
    }

    th {
      background:#f1f3f6;
    }
  </style>
</head>

<body>

<!-- ===== Ø§Ù„Ù…Ù†ÙŠÙˆ ===== -->
<div class="sidebar" id="sidebar">
  <div class="menu-item" onclick="go('sales.html')">ğŸ§¾ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª</div>
  <div class="menu-item" onclick="go('purchases.html')">ğŸ“¦ Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</div>
  <div class="menu-item active">ğŸ“‹ Ø§Ù„Ø£ØµÙ†Ø§Ù</div>
  <div class="menu-item" onclick="go('customers.html')">ğŸ‘¥ Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</div>
  <div class="menu-item" onclick="go('suppliers.html')">ğŸ­ Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†</div>
  <div class="menu-item" onclick="go('stock.html')">ğŸ“Š Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</div>
  <div class="menu-item" onclick="go('reports.html')">ğŸ“ˆ Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div>
  <div class="menu-item" onclick="go('settings.html')">âš™ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</div>

  <div class="menu-toggle" onclick="toggleMenu()">â¬…</div>
</div>

<!-- ===== Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ===== -->
<div class="main-content">
<div class="page">

<h2>ğŸ“‹ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£ØµÙ†Ø§Ù</h2>

<!-- Ø¥Ø¶Ø§ÙØ© ØµÙ†Ù -->
<div class="card">
  <div class="row">
    <input type="text" id="name" placeholder="Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù">
    <input type="number" id="buyPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡">
    <input type="number" id="sellPrice" placeholder="Ø³Ø¹Ø± Ø§Ù„Ø¨ÙŠØ¹">
    <button onclick="addItem()">â• Ø¥Ø¶Ø§ÙØ©</button>
  </div>
</div>

<!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø£ØµÙ†Ø§Ù -->
<div class="card">
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Ø§Ù„ØµÙ†Ù</th>
        <th>Ø´Ø±Ø§Ø¡</th>
        <th>Ø¨ÙŠØ¹</th>
        <th>Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</th>
        <th>âŒ</th>
      </tr>
    </thead>
    <tbody id="itemsBody"></tbody>
  </table>
</div>

</div>
</div>

<script src="../js/menu.js"></script>

<script>
let items = JSON.parse(localStorage.getItem("items")) || [];
let stock = JSON.parse(localStorage.getItem("stock")) || {};

function render() {
  itemsBody.innerHTML = "";

  items.forEach((i, idx) => {
    itemsBody.innerHTML += `
      <tr>
        <td>${idx+1}</td>
        <td>${i.name}</td>
        <td>${i.buyPrice || 0}</td>
        <td>${i.price || 0}</td>
        <td>${stock[i.name] || 0}</td>
        <td><button onclick="removeItem(${idx})">âŒ</button></td>
      </tr>
    `;
  });
}

function addItem() {
  if(!name.value) return alert("Ø§Ø³Ù… Ø§Ù„ØµÙ†Ù Ù…Ø·Ù„ÙˆØ¨");

  items.push({
    name: name.value,
    buyPrice: Number(buyPrice.value),
    price: Number(sellPrice.value)
  });

  localStorage.setItem("items", JSON.stringify(items));
  render();

  name.value = buyPrice.value = sellPrice.value = "";
}

function removeItem(i) {
  if(!confirm("Ø­Ø°Ù Ø§Ù„ØµÙ†ÙØŸ")) return;
  items.splice(i,1);
  localStorage.setItem("items", JSON.stringify(items));
  render();
}

render();
</script>

</body>
</html>
