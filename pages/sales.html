<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>المبيعات</title>
  <link rel="stylesheet" href="../css/style.css">
</head>

<body>

<h2>شاشة المبيعات</h2>

<!-- ================= العميل ================= -->
<div class="card">
  <label>اسم العميل (بحث سريع)</label>
  <input list="customersList" id="saleCustomer" placeholder="عميل نقدي">
  <datalist id="customersList"></datalist>

  <button onclick="window.location.href='customers.html'">
    + إضافة عميل جديد
  </button>

  <div style="margin-top:10px">
    <button onclick="setPayment('نقدي')">نقدي</button>
    <button onclick="setPayment('آجل')">آجل</button>
    <span id="paymentType">نقدي</span>
  </div>
</div>

<!-- ================= الصنف ================= -->
<div class="card">
  <label>الصنف (بحث سريع)</label>
  <input list="productsList" id="saleProduct" placeholder="اكتب اسم الصنف">
  <datalist id="productsList"></datalist>

  <label>وحدة القياس</label>
  <select id="saleUnit">
    <option value="كجم">كجم</option>
    <option value="علبة">علبة</option>
    <option value="كرتونة">كرتونة</option>
    <option value="باكيت">باكيت</option>
  </select>

  <label>الكمية</label>
  <input type="number" id="saleQty" value="1" min="1">

  <button id="addToInvoiceBtn">إضافة للفاتورة</button>
</div>

<!-- ================= الفاتورة ================= -->
<div class="card">
  <h3>الفاتورة</h3>

  <table width="100%" border="1">
    <thead>
      <tr>
        <th>#</th>
        <th>الصنف</th>
        <th>الوحدة</th>
        <th>الكمية</th>
        <th>السعر</th>
        <th>الإجمالي</th>
        <th>حذف</th>
      </tr>
    </thead>
    <tbody id="invoiceItems"></tbody>
  </table>

  <h3>الإجمالي: <span id="totalAmount">0</span></h3>

  <button id="saveInvoiceBtn">حفظ الفاتورة</button>
  <button id="printInvoiceBtn">طباعة</button>
</div>

<!-- ================= Scripts ================= -->
<script src="../js/db.js"></script>
<script src="../js/sales.js"></script>

<script>
function setPayment(type) {
  document.getElementById("paymentType").textContent = type;
}
</script>

</body>
</html>
