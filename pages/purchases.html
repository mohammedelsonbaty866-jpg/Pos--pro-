<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>المشتريات</title>
  <link rel="stylesheet" href="../css/style.css">
</head>

<body>

<h2>شاشة المشتريات</h2>

<!-- ============ المورد ============ -->
<div class="card">
  <label>اسم المورد (بحث سريع)</label>
  <input list="suppliersList" id="purchaseSupplier" placeholder="اختر المورد">
  <datalist id="suppliersList"></datalist>

  <button onclick="window.location.href='suppliers.html'">
    + إضافة مورد جديد
  </button>
</div>

<!-- ============ الصنف ============ -->
<div class="card">
  <label>الصنف (بحث سريع)</label>
  <input list="productsList" id="purchaseProduct" placeholder="اكتب اسم الصنف">
  <datalist id="productsList"></datalist>

  <label>وحدة القياس</label>
  <select id="purchaseUnit">
    <option value="كجم">كجم</option>
    <option value="علبة">علبة</option>
    <option value="كرتونة">كرتونة</option>
    <option value="باكيت">باكيت</option>
  </select>

  <label>الكمية</label>
  <input type="number" id="purchaseQty" value="1" min="1">

  <label>سعر الشراء</label>
  <input type="number" id="purchasePrice" min="0">

  <button id="addToPurchaseBtn">
    إضافة للفاتورة
  </button>
</div>

<!-- ============ فاتورة المشتريات ============ -->
<div class="card">
  <h3>فاتورة مشتريات</h3>

  <table width="100%" border="1">
    <thead>
      <tr>
        <th>#</th>
        <th>الصنف</th>
        <th>الوحدة</th>
        <th>الكمية</th>
        <th>سعر الشراء</th>
        <th>الإجمالي</th>
        <th>حذف</th>
      </tr>
    </thead>
    <tbody id="purchaseItems"></tbody>
  </table>

  <h3>الإجمالي: <span id="purchaseTotal">0</span></h3>

  <button id="savePurchaseBtn">حفظ المشتريات</button>
</div>

<!-- ============ Scripts ============ -->
<script src="../js/db.js"></script>
<script src="../js/purchases.js"></script>

</body>
  <script>
  fetch("../partials/menu.html")
    .then(res => res.text())
    .then(html => {
      document.body.insertAdjacentHTML("afterbegin", html);
    });
</script>
</html>
